(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cbec06a"],{4203:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"app-container"},[n("el-button",{staticStyle:{margin:"0 0 20px 0"},attrs:{type:"primary",size:"small"}},[n("a",{attrs:{href:"https://github.com/PanJiaChen/vue-element-admin/tree/master/src/components/TreeTable",target:"_blank"}},[e._v("Documentation")])]),e._v(" "),n("tree-table",{ref:"TreeTable",attrs:{data:e.tableData,"default-expand-all":!0,columns:e.columns,border:"","default-children":"children"},on:{"selection-change":e.selectChange},scopedSlots:e._u([{key:"timeline",fn:function(e){var t=e.scope;return[n("el-tooltip",{attrs:{content:t.row.timeLine+"ms",effect:"dark",placement:"left"}},[n("div",{staticClass:"processContainer"},[n("div",{staticClass:"process",style:{width:3*(t.row.timeLine||0)+"px",background:t.row.timeLine>50?"rgba(233,0,0,.5)":"rgba(0,0,233,0.5)",marginLeft:50*t.row._level+"px"}},[n("span",{staticStyle:{display:"inline-block"}})])])])]}},{key:"append",fn:function(t){var a=t.scope;return[n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addMenuItem(a.row,"brother")}}},[e._v("\n          Append Brother\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.addMenuItem(a.row,"children")}}},[e._v("\n          Append Child\n        ")])]}},{key:"operation",fn:function(t){var a=t.scope;return[n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.editItem(a.row)}}},[e._v("\n          Edit\n        ")]),e._v(" "),n("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.deleteItem(a.row)}}},[e._v("\n          Delete\n        ")])]}}])},[n("template",{slot:"selection"},[n("el-table-column",{attrs:{type:"selection",align:"center",width:"55"}})],1),e._v(" "),n("template",{slot:"pre-column"},[n("el-table-column",{attrs:{type:"expand",width:"55"}},[[n("el-tag",{attrs:{type:"info"}},[e._v("\n              Here is just a placeholder slot, you can display anything.\n            ")])]],2)],1)],2)],1),e._v(" "),n("el-dialog",{attrs:{visible:e.dialogFormVisible,title:"Edit"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[n("el-form",{staticStyle:{width:"600px"},attrs:{model:e.tempItem,"label-width":"100px"}},[n("el-form-item",{attrs:{label:"Name"}},[n("el-input",{attrs:{placeholder:"Name"},model:{value:e.tempItem.name,callback:function(t){e.$set(e.tempItem,"name","string"===typeof t?t.trim():t)},expression:"tempItem.name"}})],1)],1),e._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("Cancel")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.updateItem}},[e._v("Confirm")])],1)],1)],1)},i=[],l=(n("96cf"),n("3b8d")),r=n("8ad4"),o=[{name:"1",timeLine:100,children:[{name:"1-1",timeLine:20},{name:"1-2",timeLine:60,children:[{name:"1-2-1",timeLine:35},{name:"1-2-2",timeLine:25}]}]},{name:"2",timeLine:80,children:[{name:"2-1",timeLine:30},{name:"2-2",timeLine:50},{name:"2-3",timeLine:60}]},{name:"3",timeLine:40}],s=o,c={components:{TreeTable:r["a"]},data:function(){return{tableData:[],tempItem:{},dialogFormVisible:!1,columns:[{label:"Name",key:"name",expand:!0},{label:"Timeline",key:"timeline"},{label:"Append",key:"append",width:300},{label:"Operation",key:"operation",width:160}]}},created:function(){this.getData()},methods:{getData:function(){this.tableData=s},editItem:function(e){this.tempItem=Object.assign({},e),this.dialogFormVisible=!0},updateItem:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.TreeTable.updateTreeNode(this.tempItem);case 2:this.dialogFormVisible=!1;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addMenuItem:function(e,t){"children"===t&&this.$refs.TreeTable.addChild(e,{name:"child",timeLine:this.randomNum()}),"brother"===t&&this.$refs.TreeTable.addBrother(e,{name:"brother",timeLine:this.randomNum()})},deleteItem:function(e){this.$refs.TreeTable.delete(e)},selectChange:function(e){console.log(e)},randomNum:function(){var e=100,t=1;return Math.floor(Math.random()*(e-t+1)+t)}}},d=c,u=n("2877"),h=Object(u["a"])(d,a,i,!1,null,null,null);t["default"]=h.exports},"8ad4":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",e._g(e._b({attrs:{data:e.tableData,"row-style":e.showRow}},"el-table",e.$attrs,!1),e.$listeners),[e._t("selection"),e._v(" "),e._t("pre-column"),e._v(" "),e._l(e.columns,function(t){return n("el-table-column",{key:t.key,attrs:{label:t.label,width:t.width,align:t.align||"center","header-align":t.headerAlign},scopedSlots:e._u([{key:"default",fn:function(a){return[e._t(t.key,[t.expand?[n("span",{style:{"padding-left":+a.row._level*e.indent+"px"}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.showSperadIcon(a.row),expression:"showSperadIcon(scope.row)"}],staticClass:"tree-ctrl",on:{click:function(t){return e.toggleExpanded(a.$index)}}},[a.row._expand?n("i",{staticClass:"el-icon-minus"}):n("i",{staticClass:"el-icon-plus"})])]:e._e(),e._v(" "),t.checkbox?[a.row[e.defaultChildren]&&a.row[e.defaultChildren].length>0?n("el-checkbox",{style:{"padding-left":+a.row._level*e.indent+"px"},attrs:{indeterminate:a.row._select},on:{change:function(t){return e.handleCheckAllChange(a.row)}},model:{value:a.row._select,callback:function(t){e.$set(a.row,"_select",t)},expression:"scope.row._select"}}):n("el-checkbox",{style:{"padding-left":+a.row._level*e.indent+"px"},on:{change:function(t){return e.handleCheckAllChange(a.row)}},model:{value:a.row._select,callback:function(t){e.$set(a.row,"_select",t)},expression:"scope.row._select"}})]:e._e(),e._v("\n        "+e._s(a.row[t.key])+"\n      ")],{scope:a})]}}],null,!0)})})],2)},i=[],l=(n("28a5"),n("c5f6"),n("ac6a"),n("2b0e"));function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"children",n=[];return e.forEach(function(e,a){if(l["default"].set(e,"_index",a),n.push(e),e[t]&&e[t].length>0){var i=r(e[t],t);n=n.concat(i)}}),n}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.parent,a=void 0===n?null:n,i=t.preIndex,r=void 0!==i&&i,s=t.level,c=void 0===s?0:s,d=t.expand,u=void 0!==d&&d,h=t.children,p=void 0===h?"children":h,m=t.show,f=void 0===m||m,b=t.select,v=void 0!==b&&b;e.forEach(function(e,t){var n=(r?"".concat(r,"-").concat(t):t)+"";l["default"].set(e,"_id",n),l["default"].set(e,"_level",c),l["default"].set(e,"_expand",u),l["default"].set(e,"_parent",a),l["default"].set(e,"_show",f),l["default"].set(e,"_select",v),e[p]&&e[p].length>0&&o(e[p],{parent:e,level:c+1,expand:u,preIndex:n,children:p,status:status,select:v})})}var s={name:"TreeTable",props:{data:{type:Array,required:!0,default:function(){return[]}},columns:{type:Array,default:function(){return[]}},defaultExpandAll:{type:Boolean,default:!1},defaultChildren:{type:String,default:"children"},indent:{type:Number,default:50}},data:function(){return{guard:1}},computed:{children:function(){return this.defaultChildren},tableData:function(){var e=this.data;if(0===this.data.length)return[];o(e,{expand:this.defaultExpandAll,children:this.defaultChildren});var t=r(e,this.defaultChildren);return t}},methods:{addBrother:function(e,t){e._parent?e._parent.children.push(t):this.data.push(t)},addChild:function(e,t){e.children||this.$set(e,"children",[]),e.children.push(t)},delete:function(e){var t=e._index,n=e._parent;n?n.children.splice(t,1):this.data.splice(t,1)},getData:function(){return this.tableData},showRow:function(e){var t=e.row,n=t._parent,a=!n||n._expand&&n._show;return t._show=a,a?"animation:treeTableShow 1s;-webkit-animation:treeTableShow 1s;":"display:none;"},showSperadIcon:function(e){return e[this.children]&&e[this.children].length>0},toggleExpanded:function(e){var t=this.tableData[e],n=!t._expand;t._expand=n},handleCheckAllChange:function(e){this.selcetRecursion(e,e._select,this.defaultChildren),this.isIndeterminate=e._select},selcetRecursion:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"children";t&&(this.$set(e,"_expand",!0),this.$set(e,"_show",!0));var i=e[a];i&&i.length>0&&i.map(function(e){e._select=t,n.selcetRecursion(e,t,a)})},updateTreeNode:function(e){var t=this;return new Promise(function(n){var a=e._id,i=e._parent,l=a.split("-").slice(-1)[0];i?(i.children.splice(l,1,e),n(t.data)):(t.data.splice(l,1,e),n(t.data))})}}},c=s,d=(n("c7b6"),n("2877")),u=Object(d["a"])(c,a,i,!1,null,null,null);t["a"]=u.exports},be78:function(e,t,n){},c7b6:function(e,t,n){"use strict";var a=n("be78"),i=n.n(a);i.a}}]);